{% extends 'base.html' %}
{% block title %}Changement de mot de passe obligatoire{% endblock %}
{% block content %}
    <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-primary-500">Changement de mot de passe obligatoire</h1>
        <p class="text-neutral-600 mt-4 max-w-2xl mx-auto">
            Pour des raisons de sécurité, vous devez changer votre mot de passe avant de pouvoir accéder au tableau de bord.
            Veuillez choisir un mot de passe sécurisé contenant au moins 14 caractères.
        </p>
    </div>

    <div class="section mx-auto max-w-md">
        {% if messages %}
            {% for message in messages %}
                <div class="bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4 rounded">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}

        <form method="post" class="space-y-4">
            {% csrf_token %}

            <div>
                <label for="{{ form.old_password.id_for_label }}" class="block text-sm font-medium text-neutral-600">
                    {{ form.old_password.label }}
                </label>
                {{ form.old_password }}
                {% if form.old_password.errors %}
                    <div class="text-red-600 text-sm mt-1">
                        {% for error in form.old_password.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.new_password1.id_for_label }}" class="block text-sm font-medium text-neutral-600">
                    {{ form.new_password1.label }}
                </label>
                {{ form.new_password1 }}
                {% if form.new_password1.errors %}
                    <div class="text-red-600 text-sm mt-1">
                        {% for error in form.new_password1.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div>
                <label for="{{ form.new_password2.id_for_label }}" class="block text-sm font-medium text-neutral-600">
                    {{ form.new_password2.label }}
                </label>
                {{ form.new_password2 }}
                {% if form.new_password2.errors %}
                    <div class="text-red-600 text-sm mt-1">
                        {% for error in form.new_password2.errors %}
                            <p>{{ error }}</p>
                        {% endfor %}
                    </div>
                {% endif %}
            </div>

            <div class="space-y-2">
                <button type="submit" class="w-full bg-primary-500 text-white py-2 px-4 rounded-lg hover:bg-primary-600 transition-colors">
                    Changer le mot de passe
                </button>
            </div>
        </form>

        <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
            <h3 class="text-sm font-medium text-blue-900 mb-2">Exigences pour un mot de passe sécurisé :</h3>
            <ul class="text-sm text-blue-700 space-y-1">
                <li>• Au moins 14 caractères</li>
                <li>• Mélangez majuscules et minuscules</li>
                <li>• Incluez des chiffres et des caractères spéciaux</li>
                <li>• Évitez les mots du dictionnaire</li>
                <li>• Évitez les informations personnelles</li>
            </ul>
        </div>
    </div>
{% endblock %}