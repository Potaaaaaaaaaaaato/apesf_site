{% extends 'base.html' %}
{% load static %}
{% block title %}Accueil{% endblock %}
{% block content %}
<!-- Style personnalisé pour réduire la taille des flèches -->
<style>
    .swiper-button-prev, .swiper-button-next {
        width: 30px;
        height: 30px;
        background-size: 30px;
    }
    .swiper-button-prev:after, .swiper-button-next:after {
        font-size: 20px;
    }
    /* Style pour la barre d'icônes réseaux sociaux */
    .carousel-container {
        position: relative; /* Conteneur relatif pour positionner la barre */
    }
    .social-bar {
        position: absolute;
        top: 50%;
        left: 0;
        transform: translateY(-50%);
        background-color: #ffffff;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        padding: 10px;
        border-radius: 0 10px 10px 0;
        z-index: 10; /* Assure que la barre est au-dessus du carrousel */
    }
    .social-bar a {
        display: block;
        margin: 10px 0;
        color: #000000 !important; /* Forcer la couleur des icônes */
        font-size: 1.5rem; /* Taille des icônes */
        transition: color 0.3s ease;
    }
    .social-bar a:hover {
        color: #E84C3D !important;
    }
    @media (max-width: 768px) {
        .social-bar {
            display: none; /* Cache la barre sur mobile pour éviter un encombrement */
        }
    }
</style>

<!-- Hero Section -->
<section class="py-2 text-center">
    <div class="container mx-auto px-6">
        <h1 class="text-4xl md:text-5xl font-bold text-primary-500 mb-4">
            Association Pour l'Enfant et Sa Famille
        </h1>
        <p class="text-lg text-neutral-600 mb-8 max-w-2xl mx-auto">
            Depuis 1934, nous accompagnons les enfants et leurs familles à Saint-Étienne, en favorisant leur épanouissement et en protégeant leurs droits à travers nos maisons d’enfants, Les Marmousets et L’Angélus.
        </p>
    </div>
</section>

<!-- Section Carrousel et futur carrousel d'actualités -->
<section class="container mx-auto px-6 mb-12">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <!-- Carrousel (Swiper) avec barre d'icônes -->
        <div class="carousel-container">
            <!-- Barre d'icônes réseaux sociaux -->
            <div class="social-bar">
                <a href="#" target="_blank" title="Flux RSS"><i class="bi bi-rss"></i></a>
                <a href="mailto:contact@apesf.fr" title="Nous envoyer un email"><i class="bi bi-envelope"></i></a>
                <a href="https://facebook.com" target="_blank" title="Facebook"><i class="bi bi-facebook"></i></a>
                <a href="https://twitter.com" target="_blank" title="Twitter"><i class="bi bi-twitter-x"></i></a>
                <a href="https://linkedin.com" target="_blank" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
                <a href="https://instagram.com" target="_blank" title="Instagram"><i class="bi bi-instagram"></i></a>
            </div>

            <!-- Carrousel (Swiper) -->
            <div id="carouselAccueil" class="swiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="{% static 'images/carousel-image-1.jpg' %}" alt="Activités avec les enfants">
                    </div>
                    <div class="swiper-slide">
                        <img src="{% static 'images/carousel-image-2.jpg' %}" alt="Moments partagés en famille">
                    </div>
                    <div class="swiper-slide">
                        <img src="{% static 'images/carousel-image-3.jpg' %}" alt="Les Marmousets">
                    </div>
                    <div class="swiper-slide">
                        <img src="{% static 'images/carousel-image-4.jpg' %}" alt="L’Angélus">
                    </div>
                    <div class="swiper-slide">
                        <img src="{% static 'images/carousel-image-5.jpg' %}" alt="Soutien éducatif">
                    </div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>

        <!-- Espace pour le futur carrousel d'actualités -->
        <div class="hidden md:block">
            <!-- Placeholder pour le carrousel d'actualités (sera ajouté plus tard) -->
            <div class="text-center text-neutral-600">
                <p>[Carrousel d'actualités à venir]</p>
            </div>
        </div>
    </div>
</section>

<!-- Texte de présentation -->
<section class="py-8 text-center">
    <div class="container mx-auto px-6">
        <p class="text-lg text-neutral-600 leading-loose max-w-3xl mx-auto">
            Fondée en 1934, l’Association Pour l’Enfant et Sa Famille est dédiée à la protection de l’enfance. À travers nos deux établissements, Les Marmousets et L’Angélus, nous accueillons les enfants et leurs familles à Saint-Étienne. Nos équipes éducatives favorisent l’autonomie, le maintien des liens familiaux et l’épanouissement des enfants via des activités éducatives, culturelles et sportives. Nous encourageons la participation active des enfants et des parents dans les décisions qui les concernent, conformément aux valeurs de respect et de citoyenneté.
        </p>
    </div>
</section>

<!-- Bouton de don -->
<section class="py-8 text-center">
    <div class="container mx-auto px-6">
        <a href="{% url 'dons' %}" class="inline-block bg-secondary-500 text-white px-6 py-3 rounded-lg hover:bg-secondary-600 hover:scale-105 transition-all">
            Soutenez notre mission
        </a>
    </div>
</section>

<!-- Section Actualités -->
<section class="py-8 text-center">
    <div class="container mx-auto px-6">
        <h2 class="text-2xl font-semibold text-primary-500 mb-4">
            Découvrez les actualités récentes des maisons d’enfants
        </h2>
        <p class="text-lg text-neutral-600 max-w-2xl mx-auto">
            Suivez les initiatives et événements de nos unités Marmousets et Angélus, comme les conseils des ados, les activités culturelles ou les rénovations de nos espaces à Saint-Étienne.
        </p>
    </div>
</section>

<!-- Sections dynamiques -->
{% if page %}
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12">
        {% for section in page.sections.all %}
            <div class="bg-white shadow-lg rounded-lg p-6 transform hover:scale-105 transition-transform">
                <h2 class="text-2xl font-semibold text-primary-500 mb-4">{{ section.title }}</h2>
                <p class="text-neutral-600 mb-4">{{ section.content }}</p>
                {% if section.link %}
                    <a href="{{ section.link }}" class="inline-block bg-primary-500 text-white px-4 py-2 rounded hover:bg-primary-600 transition-colors">
                        En savoir plus
                    </a>
                {% endif %}
                {% for image in section.images.all %}
                    <img src="{{ image.image.url }}" alt="Image" class="mt-4 w-full rounded-lg max-h-32 max-w-32 mx-auto object-contain">
                {% endfor %}
            </div>
        {% endfor %}
    </div>
{% else %}
    <div class="text-center text-neutral-600 mt-12">
        <p>Contenu non défini. Veuillez ajouter du contenu via l'interface admin, par exemple :</p>
    </div>
{% endif %}
{% endblock %}